<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>WhereIsStolenArt.Works</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <!-- MapLibre GL JS (OpenFreeMap) -->
  <link href="https://unpkg.com/maplibre-gl/dist/maplibre-gl.css" rel="stylesheet" />
  <script src="https://unpkg.com/maplibre-gl/dist/maplibre-gl.js"></script>
  <style>
    html, body { height: 100%; margin: 0; background: #0b1020; }
    /* Center the map on the page */
    .wrap {
      height: 100%;
      display: grid;
      place-items: center;
    }
    #map {
      width: min(100vw, 1200px);
      height: min(100vh, 800px);
      border-radius: 14px;
      overflow: hidden;
      box-shadow: 0 10px 40px rgba(0,0,0,.45);
    }
    .credit {
      position: absolute;
      z-index: 2;
      right: 12px; bottom: 10px;
      background: rgba(0,0,0,.45);
      color: #fff; font: 12px/1.2 system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
      padding: 6px 8px; border-radius: 8px;
      backdrop-filter: blur(6px);
    }
  </style>
</head>
<body>
  <div class="wrap">
    <div id="map"></div>
    <!-- <div class="credit">Data © OpenStreetMap, © OpenFreeMap</div> -->
  </div>

  <script>
    // Target: center of AERI 2.430736 48.857921  
    const CurrentLocation = { lng: 2.430736 48.857921 };

    // Create map with OpenFreeMap style
    const map = new maplibregl.Map({
      container: 'map',
      style: 'https://tiles.openfreemap.org/styles/liberty',  // OpenFreeMap Liberty style
      center: [0, 20],                                        // start roughly over the Atlantic
      zoom: 0.6,                                              // far out = whole Earth
      pitch: 0,
      bearing: 0,
      attributionControl: false,
      antialias: true
    });

    map.addControl(new maplibregl.AttributionControl({ compact: true }));
    map.addControl(new maplibregl.NavigationControl({ visualizePitch: true }));

    map.on('load', () => {
      // Fly sequence: Earth -> France -> Paris center with tilt and rotate
      // Step A: small pause to ensure tiles kick in
      setTimeout(() => {
        // Step B: fly above France
        map.flyTo({
            center: [CurrentLocation.lng, CurrentLocation.lat],
            zoom: 18,
            pitch: 70,
            bearing: 310,
            speed: 0.3,
            curve: 1.8,
            easing: t => t,
            essential: true
          });
      }, 800);
    });

    // Optional: add a marker at the center of Paris
    map.on('load', () => {
      new maplibregl.Marker({ color: '#e63946' })
        .setLngLat([CurrentLocation.lng, CurrentLocation.lat])
        .setPopup(new maplibregl.Popup({ offset: 24 }).setText('Current Location'))
        .addTo(map);
    });
  </script>
</body>
</html>

